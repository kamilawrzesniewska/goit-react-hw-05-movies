{"version":3,"file":"static/js/42.6e92290f.chunk.js","mappings":"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","sources":["pages/MovieDetailsPage/MovieDetailsPage.module.css","pages/MovieDetailsPage/MovieDetailsPage.jsx","utils/apiSupport.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {};","import styles from './MovieDetailsPage.module.css';\nimport placeholderImg from '../../components/img/xxclose.png';\nimport React, { useState, useEffect, Suspense } from 'react';\nimport styled from 'styled-components';\nimport {\n  useLocation,\n  useNavigate,\n  useParams,\n  Outlet,\n  NavLink,\n} from 'react-router-dom';\nimport { fetchMovieById } from 'utils/apiSupport';\nimport Loader from 'components/Loader/Loader';\n\nconst StyledLink = styled(NavLink)`\n  position: relative;\n  color: #373537;\n  text-decoration: none;\n  font-weight: 500;\n  line-height: 25px;\n  &::after {\n    position: absolute;\n    left: 0;\n    bottom: -5px;\n    width: 100%;\n    height: 2px;\n    content: '';\n  }\n  &:hover {\n    &::after {\n      background-color: #e4007e;\n    }\n  }\n  &.active {\n    color: #e4007e;\n  }\n`;\n\nconst MovieDetailsPage = () => {\n  const {\n    btn,\n    wrapper,\n    left__content,\n    right__content,\n    heading,\n    vote,\n    text,\n    additional__heading,\n    additional__wrapper,\n    additional__list,\n  } = styles;\n\n  const navigate = useNavigate();\n  const location = useLocation();\n  const { movieId } = useParams();\n  const backTo = location.state?.from ?? '/';\n\n  const [movie, setMovie] = useState({});\n\n  const { title, overview, vote_average, genres, poster_path } = movie;\n\n  useEffect(() => {\n    fetchMovieById(movieId, setMovie).catch(console.error);\n  }, [movieId]);\n\n  return (\n    <section>\n      <button\n        className={btn}\n        onClick={() => navigate(backTo, { replace: true })}\n      >\n        Go back\n      </button>\n      <div className={wrapper}>\n        <div className={left__content}>\n          {poster_path ? (\n            <img\n              src={`https://image.tmdb.org/t/p/w500${poster_path}`}\n              alt={`Poster of ${title}`}\n            />\n          ) : (\n            <img src={placeholderImg} alt={`Placeholder`} />\n          )}\n        </div>\n        <div className={right__content}>\n          <h1 className={heading}>{title}</h1>\n          <p className={vote}>User Score: {(vote_average * 10).toFixed(0)}%</p>\n          <h2>Overwiew</h2>\n          <p className={text}>{overview}</p>\n          <h2>Genres</h2>\n          <p className={text}>{genres?.map(({ name }) => name + ', ')}</p>\n        </div>\n      </div>\n      <div className={additional__wrapper}>\n        <h3 className={additional__heading}>Additional information</h3>\n        <ul className={additional__list}>\n          <li>\n            <StyledLink to={`cast`} state={location.state}>\n              Cast\n            </StyledLink>\n          </li>\n          <li>\n            <StyledLink to={`reviews`} state={location.state}>\n              Reviews\n            </StyledLink>\n          </li>\n        </ul>\n      </div>\n      <Suspense fallback={<Loader />}>\n        <Outlet />\n      </Suspense>\n    </section>\n  );\n};\n\nexport default MovieDetailsPage;","import axios from 'axios';\n\nconst API_KEY = 'df53404ad79b05696f1c854db3da46e1';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\n\n// fetching function for the most popular movies of the day\n\nconst fetchTrendyMovies = async setMovies => {\n  try {\n    const response = await axios.get(\n      `${BASE_URL}trending/movie/day?api_key=${API_KEY}`\n    );\n\n    return setMovies(response.data.results);\n  } catch (error) {\n    console.log(`${error.name}: ${error.message}`);\n  }\n};\n\n// fetching function the movie by id\n\nconst fetchMovieById = async (movieId, setMovie) => {\n  try {\n    const response = await axios.get(\n      `${BASE_URL}movie/${movieId}?api_key=${API_KEY}&language=en-US`\n    );\n\n    return setMovie(response.data);\n  } catch (error) {\n    console.log(`${error.name}: ${error.message}`);\n  }\n};\n\n// fetching characters in the movie by the id of the movie\n\nconst fetchMovieCast = async (movieId, setCast) => {\n  try {\n    const response = await axios.get(\n      `${BASE_URL}movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`\n    );\n\n    return setCast(response.data.cast);\n  } catch (error) {\n    console.log(`${error.name}: ${error.message}`);\n  }\n};\n\n// fetching reviews about the movie by the id of the movie\n\nconst fetchMovieReviews = async (movieId, setReviews) => {\n  try {\n    const response = await axios.get(\n      `${BASE_URL}movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US`\n    );\n\n    return setReviews(response.data.results);\n  } catch (error) {\n    console.log(`${error.name}: ${error.message}`);\n  }\n};\n\n// fetching the movies by query\n\nconst fetchMovieByQuery = async (query, setSearchedMovies) => {\n  try {\n    const response = await axios.get(\n      `${BASE_URL}search/movie?api_key=${API_KEY}&query=${query}&page=1&include_adult=false`\n    );\n    const data = response.data.results;\n    return setSearchedMovies(data);\n  } catch (error) {\n    console.log(`${error.name}: ${error.message}`);\n  }\n};\n\nexport {\n  fetchMovieById,\n  fetchTrendyMovies,\n  fetchMovieCast,\n  fetchMovieReviews,\n  fetchMovieByQuery,\n};"],"names":["StyledLink","styled","NavLink","btn","styles","wrapper","left__content","right__content","heading","vote","text","additional__heading","additional__wrapper","additional__list","navigate","useNavigate","location","useLocation","movieId","useParams","backTo","state","from","useState","movie","setMovie","title","overview","vote_average","genres","poster_path","useEffect","fetchMovieById","catch","console","error","className","onClick","replace","src","alt","placeholderImg","toFixed","map","name","to","Suspense","fallback","Loader","API_KEY","BASE_URL","fetchTrendyMovies","setMovies","axios","response","data","results","log","message","fetchMovieCast","setCast","cast","fetchMovieReviews","setReviews","fetchMovieByQuery","query","setSearchedMovies"],"sourceRoot":""}